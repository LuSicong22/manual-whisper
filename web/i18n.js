/**
 * I18n module for manual-whisper
 */

export const appI18n = {
    zh: {
        'app-title': 'é—ªè®°',
        'hero-title': 'AI å½•éŸ³è½¬å†™',
        'app-desc': 'è‡ªåŠ¨è½¬å†™ä¸ºå¸¦æ—¶é—´æˆ³å’Œè¯´è¯äººæ ‡ç­¾çš„æ–‡å­—ç¨¿',
        'upload-title': 'å¯¼å…¥éŸ³é¢‘è¿›è¡Œåˆ†æž',
        'upload-subtitle': 'æ”¯æŒ m4a, mp3, wav, flac, ogg, wma, webm, aac',
        'no-file': 'æœªé€‰æ‹©æ–‡ä»¶',
        'or': 'æˆ–',
        'record-start': 'ç‚¹å‡»å¼€å§‹å®žæ—¶å½•éŸ³',
        'record-stop': 'ç‚¹å‡»åœæ­¢å½•éŸ³',
        'btn-start': 'å‡†å¤‡å°±ç»ªï¼Œå¼€å§‹è½¬å†™',
        'lang-zh': 'è½¬å†™è¯­è¨€: ç®€ä½“ä¸­æ–‡',
        'lang-en': 'è½¬å†™è¯­è¨€: English',
        'lang-mix': 'è½¬å†™è¯­è¨€: ä¸­è‹±æ··åˆ',
        'step-upload': 'å‡†å¤‡æ•°æ®',
        'step-transcribe': 'AI è½¬å†™ä¸­',
        'step-process': 'åŽå¤„ç†',
        'status-ready': 'å‡†å¤‡å°±ç»ª...',
        'upload-status': 'ä¼ è¾“çŠ¶æ€ï¼šå¾…å¼€å§‹',
        'transfer-progress': 'ä¼ è¾“è¿›åº¦',
        'transfer-success': 'ä¼ è¾“æˆåŠŸ',
        'transcribe-status': 'è½¬å†™çŠ¶æ€ï¼šå¾…å¼€å§‹',
        'transcribe-creating': 'æ­£åœ¨å¯åŠ¨',
        'transcribe-finished': 'å·²å®Œæˆ',
        'status-starting': 'æŽ’é˜Ÿ/å¯åŠ¨ä¸­',
        'status-processing': 'åˆ†æžä¸­',
        'status-failed': 'å¤±è´¥',
        'status-canceled': 'å·²å–æ¶ˆ',
        'result-title': 'è½¬å†™å®Œæˆ',
        'btn-md': 'ä¸‹è½½ Markdown',
        'btn-json': 'ä¸‹è½½ JSON',
        'btn-new': 'å¼€å§‹æ–°è½¬å†™',
        'status-uploading': 'æ­£åœ¨å°†éŸ³é¢‘æäº¤ç»™ AI åˆ†æž...',
        'status-transcribing': 'AI æ­£åœ¨è½¬å†™ (é€šå¸¸éœ€è¦ 2-5 åˆ†é’Ÿ)...',
        'status-creating-task': 'æ•°æ®ä¼ è¾“å®Œæ¯•ï¼Œæ­£åœ¨å¯åŠ¨ AI ä»»åŠ¡...',
        'status-done': 'å¤„ç†å®Œæˆï¼',
        'error-select-file': 'è¯·å…ˆé€‰æ‹©éŸ³é¢‘æ–‡ä»¶',
        'recording': 'å½•éŸ³ä¸­ â€” ',
        'record-done': 'å½•éŸ³å®Œæˆ â€” å¤§å°',
        'feedback': 'æ„è§åé¦ˆ',
        'lang-tip': 'ðŸ’¡ æŒ‡å®šè¯­è¨€å¯å¤§å¹…æå‡è½¬å†™å‡†ç¡®çŽ‡ï¼Œå‡å°‘â€œå¹»å¬â€çŽ°è±¡ã€‚',
        'tab-upload': 'å¯¼å…¥æ–‡ä»¶',
        'tab-record': 'å®žæ—¶å½•éŸ³',
        'record-stop-confirm': 'ç¡®è®¤ç»“æŸå½•éŸ³å—ï¼Ÿ',
        'record-remove-confirm': 'ç¡®è®¤ç§»é™¤è¿™æ®µå½•éŸ³å—ï¼Ÿ',
        'btn-cancel': 'å–æ¶ˆ',
        'confirm-ok': 'ç¡®å®šç»“æŸ',
    },
    en: {
        'app-title': 'FlashNotes',
        'hero-title': 'AI Audio Transcription',
        'app-desc': 'Auto-transcribe audio with timestamps & speaker tags',
        'upload-title': 'Import Audio for Analysis',
        'upload-subtitle': 'Supports m4a, mp3, wav, flac, ogg, wma, webm, aac',
        'no-file': 'No file selected',
        'or': 'OR',
        'record-start': 'Click to start recording',
        'record-stop': 'Click to stop recording',
        'btn-start': 'Ready to Transcribe',
        'lang-zh': 'Language: Simplified Chinese',
        'lang-en': 'Language: English',
        'lang-mix': 'Language: Mixed (ZH/EN)',
        'step-upload': 'Prepare Data',
        'step-transcribe': 'Transcribing',
        'step-process': 'Process',
        'status-ready': 'Ready...',
        'upload-status': 'Transfer Status: Pending',
        'transfer-progress': 'Transfer Progress',
        'transfer-success': 'Transfer Success',
        'transcribe-status': 'Transcribe Status: Pending',
        'transcribe-creating': 'Starting',
        'transcribe-finished': 'Finished',
        'status-starting': 'Queued/Starting',
        'status-processing': 'Analyzing',
        'status-failed': 'Failed',
        'status-canceled': 'Canceled',
        'result-title': 'Transcription Complete',
        'btn-md': 'Download Markdown',
        'btn-json': 'Download JSON',
        'btn-new': 'New Transcription',
        'status-uploading': 'Handing audio to AI for analysis...',
        'status-transcribing': 'AI is transcribing (usually 2-5 mins)...',
        'status-creating-task': 'Transfer complete, starting AI task...',
        'status-done': 'Processing complete!',
        'error-select-file': 'Please select an audio file first',
        'recording': 'Recording â€” ',
        'record-done': 'Recording complete â€” Size',
        'feedback': 'Feedback',
        'lang-tip': 'ðŸ’¡ Specifying a language significantly improves accuracy and reduces hallucinations.',
        'tab-upload': 'Import File',
        'tab-record': 'Record Audio',
        'record-stop-confirm': 'Are you sure you want to stop recording?',
        'record-remove-confirm': 'Are you sure you want to remove this recording?',
        'btn-cancel': 'Cancel',
        'confirm-ok': 'Stop Recording',
    }
};

let currentAppLang = localStorage.getItem('appLang') || 'en';

export function getCurrentLang() {
    return currentAppLang;
}

export function setAppLang(lang) {
    if (appI18n[lang]) {
        currentAppLang = lang;
        localStorage.setItem('appLang', lang);
    }
}

export function t(key) {
    return appI18n[currentAppLang][key] || key;
}

export function updateDOMTranslations() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        el.textContent = t(key);
    });
}
