<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂΩïÈü≥ËΩ¨ÂÜôÂ∑•ÂÖ∑</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Background Elements -->
    <div class="bg-elements">
        <div class="glow-orb orb-1"></div>
        <div class="glow-orb orb-2"></div>
    </div>

    <!-- È°∂ÈÉ®ÈÄöÊ†èÂØºËà™ -->
    <header class="top-nav">
        <div class="nav-content">
            <div class="logo-wrapper">
                <img src="logo.png" alt="FlashNotes Logo" class="nav-logo" />
                <h1 class="text-gradient" data-i18n="app-title">Èó™ËÆ∞</h1>
            </div>
            <div class="custom-dropdown" id="app-lang-dropdown">
                <div class="app-lang-pill" id="app-lang-trigger" tabindex="0">
                    <svg class="lang-globe-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="2" y1="12" x2="22" y2="12"></line>
                        <path
                            d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z">
                        </path>
                    </svg>
                    <span id="app-lang-label" class="dropdown-label">EN</span>
                    <svg class="chevron-down" width="12" height="12" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="6 9 12 15 18 9" />
                    </svg>
                </div>
                <div class="dropdown-menu hidden" id="app-lang-options">
                    <div class="dropdown-item" data-value="zh">ÁÆÄ‰Ωì‰∏≠Êñá (ZH)</div>
                    <div class="dropdown-item active" data-value="en">English (EN)</div>
                </div>
            </div>
        </div>
    </header>

    <main class="layout-wrapper" id="main-content">
        <!-- ÂàùÂßãËæìÂÖ•ÂÆπÂô®ÔºöÂåÖÂê´Ê†∏ÂøÉÈù¢ÂåÖÂùó‰∏éÂç´ÊòüÁªÑ‰ª∂ -->
        <div id="input-area" class="input-container">
            <h2 class="hero-title" data-i18n="hero-title">AI ÂΩïÈü≥ËΩ¨ÂÜô</h2>
            <p class="hero-desc" data-i18n="app-desc">Ëá™Âä®ËΩ¨ÂÜô‰∏∫Â∏¶Êó∂Èó¥Êà≥ÂíåËØ¥ËØù‰∫∫Ê†áÁ≠æÁöÑÊñáÂ≠óÁ®ø</p>

            <!-- Ê†∏ÂøÉÊÇ¨ÊµÆÈù¢Êùø -->
            <div class="hero-panel">
                <div class="split-view-container">
                    <!-- ‰∏ä‰º†Âå∫ -->
                    <div id="upload-section" class="input-section">
                        <button id="pick-file-btn" class="upload-area huge-area">
                            <div class="upload-content">
                                <svg class="upload-icon huge-icon" width="64" height="64" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                    <polyline points="17 8 12 3 7 8" />
                                    <line x1="12" x2="12" y1="3" y2="15" />
                                </svg>
                                <div class="upload-text">
                                    <p class="upload-title huge-text" data-i18n="upload-title">ÂØºÂÖ•Èü≥È¢ëËøõË°åÂàÜÊûê</p>
                                    <small class="upload-subtitle" data-i18n="upload-subtitle">ÊîØÊåÅ m4a, mp3, wav, flac,
                                        ogg,
                                        wma, webm, aac</small>
                                </div>
                            </div>
                        </button>
                        <input type="file" id="file-input" accept=".m4a,.mp3,.wav,.flac,.ogg,.wma,.webm,.aac" hidden />
                        <div id="file-info-bar" class="file-info-bar hidden">
                            <span id="selected-file-name" class="file-name"></span>
                            <button id="remove-file-btn" class="remove-btn" aria-label="ÁßªÈô§Êñá‰ª∂">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- ÂàÜÂâ≤Á∫ø -->
                    <div class="split-divider">
                        <span class="divider-text" data-i18n="or">Êàñ</span>
                    </div>

                    <!-- ÂΩïÈü≥Âå∫ -->
                    <div id="record-section" class="input-section">
                        <div class="record-module">
                            <button id="record-btn" class="record-icon-btn" aria-label="ÂΩïÈü≥">
                                <svg id="record-svg-mic" width="48" height="48" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z" />
                                    <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
                                    <line x1="12" x2="12" y1="19" y2="22" />
                                </svg>
                                <svg id="record-svg-stop" class="hidden" width="56" height="56" viewBox="0 0 24 24"
                                    fill="currentColor" stroke="none">
                                    <rect x="6" y="6" width="12" height="12" rx="2" ry="2" />
                                </svg>
                            </button>
                            <p id="record-label" class="huge-text record-label" data-i18n="record-start">ÁÇπÂáªÂºÄÂßãÂÆûÊó∂ÂΩïÈü≥</p>
                            <div id="record-info-bar" class="file-info-bar hidden">
                                <p id="record-status" class="record-status"></p>
                                <button id="remove-record-btn" class="remove-btn" aria-label="ÁßªÈô§ÂΩïÈü≥">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                </button>
                            </div>
                            <div id="volume-meter" class="sound-wave hidden">
                                <span class="wave-bar" id="wave-bar-1"></span>
                                <span class="wave-bar" id="wave-bar-2"></span>
                                <span class="wave-bar" id="wave-bar-3"></span>
                                <span class="wave-bar" id="wave-bar-4"></span>
                                <span class="wave-bar" id="wave-bar-5"></span>
                            </div>
                            <!-- Custom Record Playback Player -->
                            <div id="record-playback-ui" class="custom-player hidden">
                                <audio id="record-playback"></audio>
                                <div class="cp-top">
                                    <button class="cp-play-btn" id="cp-play-btn" aria-label="Êí≠Êîæ">
                                        <svg id="cp-icon-play" width="18" height="18" viewBox="0 0 24 24"
                                            fill="currentColor" stroke="none">
                                            <polygon points="5,3 19,12 5,21" />
                                        </svg>
                                        <svg id="cp-icon-pause" class="hidden" width="18" height="18"
                                            viewBox="0 0 24 24" fill="currentColor" stroke="none">
                                            <rect x="6" y="4" width="4" height="16" />
                                            <rect x="14" y="4" width="4" height="16" />
                                        </svg>
                                    </button>
                                    <div class="cp-time">
                                        <span id="cp-current">0:00</span>
                                        <span class="cp-sep">/</span>
                                        <span id="cp-duration">0:00</span>
                                    </div>
                                    <button class="cp-speed-btn" id="cp-speed-btn">1√ó</button>
                                    <button class="cp-download-btn" id="cp-download-btn" aria-label="‰∏ãËΩΩÈü≥È¢ë">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round">
                                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                            <polyline points="7 10 12 15 17 10" />
                                            <line x1="12" x2="12" y1="15" y2="3" />
                                        </svg>
                                    </button>
                                </div>
                                <div class="cp-progress-track" id="cp-track">
                                    <div class="cp-progress-fill" id="cp-fill"></div>
                                    <div class="cp-progress-thumb" id="cp-thumb"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="action-wrapper" class="hidden fade-in-up">
                    <!-- Â∞èÂ∑ßÊï£ËêΩÁöÑËæÖÂä©ËÆæÁΩÆ (Âç´ÊòüËΩ®ÈÅìËÆæËÆ°) -->
                    <div class="settings-satellites">
                        <div class="language-setting-group">
                            <div class="custom-dropdown" id="language-dropdown">
                                <div class="satellite-pill" id="language-select-trigger" tabindex="0">
                                    <svg class="satellite-icon" width="16" height="16" viewBox="0 0 24 24" fill="none"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <circle cx="12" cy="12" r="10" />
                                        <line x1="2" y1="12" x2="22" y2="12" />
                                        <path
                                            d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" />
                                    </svg>
                                    <span id="language-select-label" class="dropdown-label" data-i18n="lang-mix">ËΩ¨ÂÜôËØ≠Ë®Ä:
                                        ‰∏≠Ëã±Ê∑∑Âêà</span>
                                    <svg class="chevron-down" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                    </svg>
                                </div>
                                <div class="dropdown-menu hidden" id="language-options">
                                    <div class="dropdown-item" data-value="zh" data-i18n="lang-zh">ËΩ¨ÂÜôËØ≠Ë®Ä: ÁÆÄ‰Ωì‰∏≠Êñá</div>
                                    <div class="dropdown-item" data-value="en" data-i18n="lang-en">ËΩ¨ÂÜôËØ≠Ë®Ä: English</div>
                                    <div class="dropdown-item active" data-value="zh+en" data-i18n="lang-mix">ËΩ¨ÂÜôËØ≠Ë®Ä: ‰∏≠Ëã±Ê∑∑Âêà
                                    </div>
                                </div>
                            </div>
                            <p class="language-tip" data-i18n="lang-tip">üí° ÊåáÂÆöËØ≠Ë®ÄÂèØÂ§ßÂπÖÊèêÂçáËΩ¨ÂÜôÂáÜÁ°ÆÁéáÔºåÂáèÂ∞ë‚ÄúÂπªÂê¨‚ÄùÁé∞Ë±°„ÄÇ</p>
                        </div>
                    </div>

                    <div class="action-row">
                        <button id="start-btn" class="btn primary glow-btn huge-start" disabled
                            data-i18n="btn-start">ÂáÜÂ§áÂ∞±Áª™ÔºåÂºÄÂßãËΩ¨ÂÜô</button>
                    </div>

                </div>
            </div>
        </div>

        <!-- ËøõÂ∫¶ÊòæÁ§∫ (Â±Ö‰∏≠ÊÇ¨ÊµÆ) -->
        <div id="progress-area" class="hidden glass-panel progress-panel">
            <div class="status-steps">
                <div class="step" id="step-upload" data-i18n="step-upload">ÂáÜÂ§áÊï∞ÊçÆ</div>
                <div class="step" id="step-transcribe"><span data-i18n="step-transcribe">AI ËΩ¨ÂÜô‰∏≠</span> (<span
                        id="timer">0s</span>)</div>
                <div class="step" id="step-process" data-i18n="step-process">ÂêéÂ§ÑÁêÜ</div>
            </div>
            <div class="loader-wrapper">
                <div class="modern-loader"></div>
            </div>
            <p id="status-text" class="status-text-highlight" data-i18n="status-ready">ÂáÜÂ§áÂ∞±Áª™...</p>
            <div class="runtime-box glass-panel-inner">
                <div id="upload-status-line" class="runtime-line" data-i18n="upload-status">‰º†ËæìÁä∂ÊÄÅÔºöÂæÖÂºÄÂßã</div>
                <div class="meter">
                    <div id="upload-progress-fill" class="meter-fill fill-cyan"></div>
                </div>
                <div id="transcribe-status-line" class="runtime-line" data-i18n="transcribe-status">ËΩ¨ÂÜôÁä∂ÊÄÅÔºöÂæÖÂºÄÂßã</div>
                <div class="meter">
                    <div id="transcribe-progress-fill" class="meter-fill fill-purple"></div>
                </div>
                <div id="task-id-line" class="runtime-muted"></div>
                <div id="transcribe-log-line" class="runtime-muted"></div>
            </div>
        </div>

        </div>
    </main>

    <!-- ÂÆèÂ§ßÁöÑÁªìÊûúÂå∫ÂüüÔºåÈì∫Êª°ÂÆΩÂ±è -->
    <div id="result-area" class="hidden wide-result-area">
        <div class="split-result-container">
            <!-- Â∑¶‰æßÔºöËΩ¨ÂÜôÊñáÂ≠ó -->
            <div class="result-left-column">
                <div class="preview-box glass-panel wide-preview-inner">
                    <div id="transcript-preview"></div>
                </div>
            </div>

            <!-- Âè≥‰æßÔºöÂõ∫ÂÆöÊìç‰ΩúÊ†è -->
            <aside class="result-right-sidebar">
                <div class="result-sidebar-sticky">
                    <div class="header-main">
                        <h2 class="result-title" data-i18n="result-title">ËΩ¨ÂÜôÂÆåÊàê</h2>
                        <div id="result-meta" class="result-meta"></div>
                    </div>

                    <!-- Custom Result Playback Player -->
                    <div id="result-playback-ui" class="custom-player hidden res-player">
                        <audio id="result-playback"></audio>
                        <div class="cp-top">
                            <button class="cp-play-btn" id="res-play-btn" aria-label="Êí≠Êîæ">
                                <svg id="res-icon-play" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"
                                    stroke="none">
                                    <polygon points="5,3 19,12 5,21" />
                                </svg>
                                <svg id="res-icon-pause" class="hidden" width="18" height="18" viewBox="0 0 24 24"
                                    fill="currentColor" stroke="none">
                                    <rect x="6" y="4" width="4" height="16" />
                                    <rect x="14" y="4" width="4" height="16" />
                                </svg>
                            </button>
                            <div class="cp-time">
                                <span id="res-current">0:00</span>
                                <span class="cp-sep">/</span>
                                <span id="res-duration">0:00</span>
                            </div>
                            <button class="cp-speed-btn" id="res-speed-btn">1√ó</button>
                            <button class="cp-download-btn" id="res-download-btn" aria-label="‰∏ãËΩΩÈü≥È¢ë">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                                    <polyline points="7 10 12 15 17 10" />
                                    <line x1="12" x2="12" y1="15" y2="3" />
                                </svg>
                            </button>
                        </div>
                        <div class="cp-progress-track" id="res-track">
                            <div class="cp-progress-fill" id="res-fill"></div>
                            <div class="cp-progress-thumb" id="res-thumb"></div>
                        </div>
                    </div>

                    <div class="actions-stack">
                        <button id="copy-transcript" class="btn secondary wide-btn" title="Â§çÂà∂ÊñáÂ≠óÁ®ø">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                            <span data-i18n="btn-copy">Â§çÂà∂ÊñáÂ≠ó</span>
                        </button>
                        <button id="download-md" class="btn primary wide-btn" data-i18n="btn-md">‰∏ãËΩΩ Markdown</button>
                        <button id="download-json" class="btn secondary wide-btn" data-i18n="btn-json">‰∏ãËΩΩ JSON</button>
                        <button id="new-upload-btn" class="btn outline wide-btn" data-i18n="btn-new">ÂºÄÂßãÊñ∞ËΩ¨ÂÜô</button>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Á°ÆËÆ§ÂºπÁ™ó Modal -->
    <div id="confirm-modal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <h3 id="modal-title" class="modal-title" data-i18n="record-stop-confirm">Á°ÆËÆ§ÁªìÊùüÂΩïÈü≥ÂêóÔºü</h3>
            <div class="modal-actions">
                <button id="confirm-cancel" class="btn secondary" data-i18n="btn-cancel">ÂèñÊ∂à</button>
                <button id="confirm-ok" class="btn danger" data-i18n="confirm-ok">Á°ÆÂÆöÁªìÊùü</button>
            </div>
        </div>
    </div>

    <!-- ÂÖ®Â±ÄÊÇ¨ÊµÆÈîôËØØÊèêÁ§∫ -->
    <div id="error-message" class="error-box hidden fixed-error"></div>

    <!-- ÊÑèËßÅÂèçÈ¶àÊÇ¨ÊµÆÊåâÈíÆ -->
    <a href="https://wj.qq.com/s2/25776996/fc92/" target="_blank" class="feedback-fab" aria-label="ÊÑèËßÅÂèçÈ¶à">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round" style="flex-shrink:0">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
        </svg>
        <span class="feedback-label" data-i18n="feedback">ÊÑèËßÅÂèçÈ¶à</span>
    </a>

    <script type="module" src="main.js"></script>
</body>

</html>